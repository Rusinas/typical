import{d as _,e as a,o as s,c as n,w as r,l as f,f as u,q as k,F as g,s as I,t as T,_ as b,x as q,r as v,y as H,z as L,A as W,B as $,h as j,a as G,u as J,U as K}from"./index-B7tck3SZ.js";const M=_({name:"TypicalTextNode"}),O=_({...M,props:{node:{}},setup(d){const l=d;a(()=>l.node.is_leaf);const e=a(()=>l.node.component);return(t,y)=>Array.isArray(t.node.data)?(s(),n(f(e.value),{key:0,class:"node",id:t.node.id},{default:r(()=>[(s(!0),u(g,null,k(t.node.data,c=>(s(),n(S,{node:c},null,8,["node"]))),256))]),_:1},8,["id"])):(s(),n(f(e.value),{key:1,class:"node",id:t.node.id},{default:r(()=>[I(T(t.node.data),1)]),_:1},8,["id"]))}}),S=b(O,[["__scopeId","data-v-f2c7f96f"]]),P={key:0,class:"typical-text-placeholder",contenteditable:"false"},Q=_({__name:"TypicalText",props:{text:{},editable:{type:Boolean}},emits:["update:data","enter","enter:start","backspace:start","delete","delete:end"],setup(d,{emit:l}){q(o=>({"0ca06e30":N.value}));const e=d,t=l,y=v(),{selection:c}=H();L(c,o=>{e.editable&&m(o)}),W(()=>{e.editable&&m(c.value)});const i=v(!1),w=a(()=>e.editable&&e.text.is_empty&&i.value),x=a(()=>e.text.id),B=a(()=>e.text.data),C=a(()=>e.text.tag),D=a(()=>e.text.placeholder),E=a(()=>({fontFamily:e.text.style.font_family,fontSize:e.text.style.font_size,fontStyle:e.text.style.font_style,fontWeight:e.text.style.font_weight,color:e.text.style.font_color,lineHeight:e.text.style.line_height,letterSpacing:e.text.style.letter_spacing})),N=a(()=>e.text.style.placeholder_color),z=o=>{t("enter",o)},F=()=>{t("enter:start")},V=()=>{t("backspace:start")},A=()=>{t("delete:end")},U=()=>{t("delete")};function m(o){if(o){const{start_text_id:h,collapsed:p}=o;p&&h===x.value?i.value=!0:i.value=!1}}return a(()=>e.text.style?.selection_font_color),a(()=>e.text.style?.selection_background_color),(o,h)=>(s(),n(f(C.value),{class:"typical-text",ref_key:"wrapper_ref",ref:y,id:x.value,contenteditable:o.editable,style:$(E.value),spellcheck:"false",onEnter:z,"onEnter:start":F,"onBackspace:start":V,"onDelete:end":A,onDelete:U},{default:r(()=>[j(J(K),{name:"slide-fade-right"},{default:r(()=>[w.value?(s(),u("div",P,T(D.value),1)):G("",!0)]),_:1}),(s(!0),u(g,null,k(B.value,p=>(s(),n(S,{node:p},null,8,["node"]))),256))]),_:1},40,["id","contenteditable","style"]))}}),X=b(Q,[["__scopeId","data-v-f61659ff"]]);export{X as T};
